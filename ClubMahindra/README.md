# Club Mahindra DataOlympics Competition
## Problem Statement
To  predict the amount spent by customers per night when they will visit the resort next time.

## Approach
- Participate in discussion forum
- Build model by following standard guidelines
- Improve the model performance

## Model
- Dataset  
The Data set is very large in size (Train data shape- (341424, 24), Test data shape- (146765, 23)), It has many Attributes and almost all of them are numerical attributes. Some of the attributes also contain null values.

- Features   
Variable, reservation_id,  booking_date, checkin_date, checkout_date, channel_code, main_product_code, numberofadults, numberofchildren, persontravellingid, resort_region_code, resort_type_code, room_type_booked_code, roomnights, season_holidayed_code, state_code_residence, state_code_resort, total_pax, member_age_buckets,
Booking_type_code, memberid, cluster_code,  reservationstatusid_code,
Resort_id, amount_spent_per_room_night_scaled

- EDA     
Some graphs were plotted to understand the dataset. For eg.
Countplot of channel code to know what is  most frequent channel for booking,
Countplot of main_product_code to know which type of product people bought mostly
Countplot of room_type_booked to know which type of room are booked frequently

- Preprocessing     
All the date format (check in date, checkout date, booking date) were in string type. These are converted into datetime format. 
05/04/18 -->2018-04-05
There were two columns viz. Season_holidayed_code and state_code_residence having null values. These two columns were filled by mode=’mode’. 

- Feature Engineering    
New Features were generated by using existing features booking date, check in date, check out date like  'Year', 'Month', 'Week', 'Day', 'Dayofweek', 'Dayofyear' of booking, check in and check out , Whether the booking, check in, check out date 'Is_month_end', 'Is_month_start', 'Is_quarter_end', 'Is_quarter_start', 'Is_year_end', 'Is_year_start'.
All the categorical columns were one hot encoded.

- Algorithm    
Light GBM Regressor - It is a regression tree based model.
Neural Network -A model of two fully connected layer and one dense layer with relu activation and normal kernel initializer was built. Model was compiled with mean squared error loss function, adam optimizer and mean absolute error performance matric. Model was trained with 5 fold cross validation for 100 epoch with batch size of 128.

- Parameter Tuning     
Various hyper-parameters were tuned to increase the performance like number of leaf, bagging fraction, feature fraction, min data in leaf etc.

- Result
Ended up in the top 10% on leaderboard
